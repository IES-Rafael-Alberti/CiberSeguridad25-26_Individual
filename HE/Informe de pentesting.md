

# Informe de Pentesting ‚Äì Talent ScoutTech

---

## 1. Objetivo

El objetivo de este informe es documentar de manera t√©cnica las pruebas de seguridad realizadas sobre la aplicaci√≥n Talent ScoutTech, incluyendo las vulnerabilidades detectadas, los m√©todos utilizados para explotarlas, y los resultados obtenidos.
Se incluye un an√°lisis de SQL Injection, XSS, CSRF y control de acceso.

---

## 2. Metodolog√≠a

1. Auditor√≠a inicial de la aplicaci√≥n en entorno local (`localhost`) con XAMPP y SQLite.
2. Pruebas de entradas en formularios y URLs con payloads controlados.
3. Observaci√≥n de respuestas del servidor y comportamiento del navegador.
4. Documentaci√≥n de resultados mediante capturas de pantalla y notas t√©cnicas.

---

## 3. Vulnerabilidades detectadas

### 3.1 SQL Injection

**Campo vulnerable:** `username` en el formulario de login (`auth.php`).

**Prueba realizada:**

* Payload: `'`
* Acci√≥n: Se introdujo el car√°cter `'` en el campo `username` del login.

**Resultado:**

* Error interno de SQL (`syntax error`) al procesar la consulta.
* Confirmaci√≥n de que los datos de usuario se concatenan directamente en la consulta SQL.

**Conclusi√≥n:**

La aplicaci√≥n es vulnerable a **SQL Injection** por concatenaci√≥n directa de entradas de usuario sin validaci√≥n ni uso de consultas preparadas.

üì∏ *[A√±adir captura del error SQL]*

---

### 3.2 Ataque de diccionario mediante SQL Injection

**Prueba realizada:**

* Intento de acceso utilizando combinaciones de usuarios y contrase√±as comunes para explotar la vulnerabilidad de SQL Injection.

**Resultado:**

* El ataque no tuvo √©xito.
* Se logr√≥ el acceso usando credenciales v√°lidas proporcionadas por el enunciado:

  * Usuario: `luis`
  * Contrase√±a: `1234`

üì∏ *[A√±adir captura de acceso exitoso]*

---

### 3.3 Gesti√≥n insegura de credenciales

**Observaciones:**

* El sistema almacena `username` y `password` directamente en cookies.
* Riesgo de interceptaci√≥n y suplantaci√≥n de usuarios.
* No se usan atributos `HttpOnly` o `Secure` ni hash de contrase√±as.

üì∏ *[A√±adir captura de cookies desde el navegador]*

---

### 3.4 XSS (Cross-Site Scripting)

**Campo vulnerable:** comentarios de jugadores (`show_comments.php`).

**Prueba realizada:**

* Payload: `<script>alert('XSS')</script>`
* Acci√≥n: Se a√±adi√≥ un comentario con c√≥digo JavaScript.

**Resultado:**

* Al consultar los comentarios, el navegador ejecuta el c√≥digo JavaScript, mostrando un `alert`.
* Confirmaci√≥n de **XSS almacenado**.

üì∏ *[A√±adir captura del comentario introducido]*
üì∏ *[A√±adir captura del alert ejecut√°ndose]*

---

### 3.5 CSRF (Cross-Site Request Forgery)

**Prueba realizada:**

* Se prepar√≥ un enlace malicioso para realizar una acci√≥n autom√°tica:

```
http://web.pagos/donate.php?amount=100&receiver=attacker
```

* Tambi√©n se cre√≥ un bot√≥n en `list_players.php` que enviaba autom√°ticamente la petici√≥n al hacer clic.
* Payload: Comentario con c√≥digo malicioso que env√≠a la petici√≥n al visualizarlo en `show_comments.php`.

**Condici√≥n necesaria para √©xito:**

* El usuario v√≠ctima debe estar autenticado en `web.pagos`.
* Sin autenticaci√≥n, la acci√≥n falla (error 404 en entorno de pruebas).

üì∏ *[A√±adir captura del bot√≥n CSRF y del comentario malicioso]*

**Conclusi√≥n:**
La aplicaci√≥n es vulnerable a **CSRF**, permitiendo la ejecuci√≥n de acciones en nombre de usuarios autenticados sin su consentimiento.

---

### 3.6 Control de acceso y sesiones

**Observaciones:**

* Registro (`register.php`) accesible a cualquier usuario.
* Uso de cookies inseguras para manejar sesi√≥n.
* No hay regeneraci√≥n de sesi√≥n al iniciar sesi√≥n.
* Posibilidad de suplantaci√≥n de usuarios mediante manipulaci√≥n de cookies.

**Recomendaciones:**

* Sustituir cookies por sesiones seguras (`$_SESSION`).
* Regenerar ID de sesi√≥n tras login (`session_regenerate_id(true)`).
* Control de acceso a p√°ginas sensibles por rol de usuario.

üì∏ *[Opcional: captura de acceso a p√°ginas restringidas]*

---

## 4. Resumen de hallazgos

| Vulnerabilidad               | Estado                | Riesgo                            |
| ---------------------------- | --------------------- | --------------------------------- |
| SQL Injection                | Confirmado            | Alto                              |
| Diccionario SQL              | No exitoso            | Medio                             |
| Credenciales en cookies      | Confirmado            | Alto                              |
| XSS                          | Confirmado            | Alto                              |
| CSRF                         | Confirmado            | Alto (solo usuarios autenticados) |
| Control de acceso y sesiones | Parcialmente inseguro | Medio-Alto                        |

---

## 5. Referencias

1. OWASP, *Top 10 Web Application Security Risks*, 2021.
2. OWASP, *SQL Injection*, [https://owasp.org/www-community/attacks/SQL_Injection](https://owasp.org/www-community/attacks/SQL_Injection)
3. OWASP, *Cross-Site Scripting (XSS)*, [https://owasp.org/www-community/attacks/xss/](https://owasp.org/www-community/attacks/xss/)
4. OWASP, *Cross-Site Request Forgery (CSRF)*, [https://owasp.org/www-community/attacks/csrf](https://owasp.org/www-community/attacks/csrf)
5. PHP Manual: [https://www.php.net/manual/en/](https://www.php.net/manual/en/)

---

## 6. Conclusi√≥n

El pentesting realizado confirma que la aplicaci√≥n Talent ScoutTech presenta vulnerabilidades significativas en **gesti√≥n de autenticaci√≥n, XSS, CSRF y control de sesiones**.
Se recomienda implementar las medidas de mitigaci√≥n descritas en el informe t√©cnico y actualizar el c√≥digo antes de su despliegue.

---
